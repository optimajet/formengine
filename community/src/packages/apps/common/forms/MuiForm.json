{
  "version": "1",
  "actions": {
    "showValidationResult": {
      "body": "    const setVisible = (key, visible) => {\n        const componentStore = e.store.form.componentTree.findByKey(key)?.store\n        if (componentStore) {\n            componentStore.renderWhen = {value: visible}\n        }\n    }\n    const hasErrors = e.store.form.componentTree.hasErrors\n    setVisible('errorMessage', hasErrors)\n    setVisible('successMessage', !hasErrors)",
      "params": {}
    },
    "loadCountries": {
      "body": "    const response = await fetch ('https://gist.githubusercontent.com/rogargon/5534902/raw/434445021e155240ca78e378f10f70391dd594ea/countries.json')\n    const countries= await response.json()\n    e.store.formData.state.countries = countries.map(value => ({value, label: value}))",
      "params": {}
    }
  },
  "tooltipType": "MuiTooltip",
  "modalType": "MuiDialog",
  "errorType": "MuiErrorWrapper",
  "form": {
    "key": "screen 1",
    "type": "Screen",
    "props": {
      "error": {
        "value": {}
      }
    },
    "events": {
      "onDidMount": [
        {
          "name": "loadCountries",
          "type": "code"
        }
      ]
    },
    "children": [
      {
        "key": "Header",
        "type": "MuiTypography",
        "props": {
          "variant": {
            "value": "h4"
          },
          "children": {
            "value": "Complex Master Form",
            "editorType": "string"
          }
        }
      },
      {
        "key": "Email hint",
        "type": "MuiTypography",
        "props": {
          "children": {
            "value": "Use a permanent address where you can receive mail.",
            "editorType": "string"
          }
        }
      },
      {
        "key": "Main container",
        "type": "MuiStack",
        "props": {
          "spacing": {
            "value": "10px"
          },
          "sx": {
            "value": "    return {\n        \"border\": \"1px solid lightgray\",\n        \"borderRadius\": \"6px\"\n    }",
            "computeType": "function",
            "fnSource": "return (/**\n * @param {object} theme\n * @returns {object|array}\n */\nfunction sx(theme) {    return {\n        \"border\": \"1px solid lightgray\",\n        \"borderRadius\": \"6px\"\n    }})"
          }
        },
        "children": [
          {
            "key": "Name container",
            "type": "MuiStack",
            "props": {
              "spacing": {
                "value": "10px"
              },
              "direction": {
                "value": "row"
              }
            },
            "children": [
              {
                "key": "First name",
                "type": "MuiTextField",
                "props": {
                  "label": {
                    "value": "First name"
                  }
                },
                "schema": {
                  "type": "string",
                  "validations": [
                    {
                      "key": "required"
                    }
                  ],
                  "autoValidate": true
                }
              },
              {
                "key": "Last name",
                "type": "MuiTextField",
                "props": {
                  "label": {
                    "value": "Last name"
                  }
                },
                "schema": {
                  "type": "string",
                  "validations": [
                    {
                      "key": "required"
                    }
                  ]
                }
              }
            ]
          },
          {
            "key": "Email",
            "type": "MuiTextField",
            "props": {
              "label": {
                "value": "Email address"
              }
            },
            "schema": {
              "type": "string",
              "validations": [
                {
                  "key": "email"
                },
                {
                  "key": "required"
                }
              ]
            }
          },
          {
            "key": "Country 1",
            "type": "MuiSelect",
            "props": {
              "label": {
                "value": "Country / Region"
              },
              "items": {
                "value": [],
                "computeType": "function",
                "fnSource": "    return form.state.countries"
              }
            },
            "schema": {
              "type": "string",
              "validations": []
            }
          },
          {
            "key": "Subheader",
            "type": "MuiTypography",
            "props": {
              "variant": {
                "value": "h5"
              },
              "children": {
                "value": "Subheader inside the form",
                "editorType": "string"
              }
            }
          },
          {
            "key": "Email hint 2",
            "type": "MuiTypography",
            "props": {
              "children": {
                "value": "Use a permanent address where you can receive mail.",
                "editorType": "string"
              }
            }
          },
          {
            "key": "Street address",
            "type": "MuiTextField",
            "props": {
              "label": {
                "value": "Street address"
              }
            }
          },
          {
            "key": "Adress container",
            "type": "MuiStack",
            "props": {
              "spacing": {
                "value": "10px"
              },
              "direction": {
                "value": "row"
              }
            },
            "children": [
              {
                "key": "City",
                "type": "MuiTextField",
                "props": {
                  "label": {
                    "value": "City"
                  }
                }
              },
              {
                "key": "State",
                "type": "MuiTextField",
                "props": {
                  "label": {
                    "value": "State / Province"
                  }
                }
              },
              {
                "key": "ZIP",
                "type": "MuiTextField",
                "props": {
                  "label": {
                    "value": "ZIP / Postal"
                  }
                }
              }
            ]
          },
          {
            "key": "Country container",
            "type": "MuiStack",
            "props": {
              "spacing": {
                "value": "10px"
              },
              "direction": {
                "value": "row"
              }
            },
            "children": [
              {
                "key": "Country 2",
                "type": "MuiSelect",
                "props": {
                  "label": {
                    "value": "Country / Region"
                  },
                  "items": {
                    "value": [],
                    "computeType": "function",
                    "fnSource": "    return form.state.countries"
                  }
                },
                "schema": {
                  "type": "string",
                  "validations": []
                },
                "events": {
                  "onDidMount": [
                    {
                      "name": "loadCountries",
                      "type": "code"
                    }
                  ]
                }
              },
              {
                "key": "Country 3",
                "type": "MuiSelect",
                "props": {
                  "label": {
                    "value": "Country / Region"
                  },
                  "items": {
                    "value": [],
                    "computeType": "function",
                    "fnSource": "    return form.state.countries"
                  }
                },
                "schema": {
                  "type": "string",
                  "validations": []
                },
                "events": {
                  "onChange": []
                }
              },
              {
                "key": "Country 4",
                "type": "MuiSelect",
                "props": {
                  "label": {
                    "value": "Country / Region"
                  },
                  "items": {
                    "value": [],
                    "computeType": "function",
                    "fnSource": "    return form.state.countries"
                  }
                },
                "schema": {
                  "type": "string",
                  "validations": []
                },
                "events": {
                  "onChange": []
                }
              }
            ]
          },
          {
            "key": "Website",
            "type": "MuiTextField",
            "props": {
              "label": {
                "value": "Website"
              },
              "placeholder": {
                "value": "https://www.example.com"
              }
            },
            "schema": {
              "type": "string",
              "validations": [
                {
                  "key": "url"
                }
              ]
            }
          },
          {
            "key": "About",
            "type": "MuiTextField",
            "props": {
              "label": {
                "value": "About"
              },
              "multiline": {
                "value": true
              },
              "rows": {
                "value": 4
              },
              "placeholder": {
                "value": "you@example.com"
              }
            }
          },
          {
            "key": "About hint",
            "type": "MuiTypography",
            "props": {
              "children": {
                "value": "Brief description for your profile. URLs are hyperlinked. ",
                "editorType": "string"
              }
            }
          },
          {
            "key": "muiContainer1",
            "type": "MuiContainer",
            "props": {
              "disableGutters": {
                "value": true
              },
              "fixed": {
                "value": false
              }
            },
            "children": [
              {
                "key": "Photo label",
                "type": "MuiTypography",
                "props": {
                  "children": {
                    "value": "Photo",
                    "editorType": "string"
                  }
                }
              },
              {
                "key": "uploader1",
                "type": "Uploader",
                "props": {
                  "action": {
                    "value": "http://localhost:3001/upload"
                  },
                  "children": {
                    "editorType": "node"
                  },
                  "dropzone": {
                    "value": false
                  }
                },
                "children": [
                  {
                    "key": "muiButton1",
                    "type": "MuiButton",
                    "props": {
                      "variant": {
                        "value": "contained"
                      },
                      "children": {
                        "value": "Upload"
                      }
                    }
                  }
                ]
              }
            ]
          },
          {
            "key": "muiList1",
            "type": "MuiList",
            "props": {
              "dense": {
                "value": true
              },
              "disablePadding": {
                "value": true
              }
            },
            "children": [
              {
                "key": "repeater1",
                "type": "Repeater",
                "props": {
                  "value": {
                    "computeType": "function",
                    "fnSource": "return form.data.uploader1?.map(item => item)"
                  }
                },
                "wrapperCss": {
                  "any": {
                    "object": {
                      "gap": "0px"
                    }
                  }
                },
                "children": [
                  {
                    "key": "muiListItem1",
                    "type": "MuiListItem",
                    "props": {
                      "divider": {
                        "value": true
                      }
                    },
                    "children": [
                      {
                        "key": "muiTypography1",
                        "type": "MuiTypography",
                        "props": {
                          "className": {
                            "computeType": "function",
                            "fnSource": "    return form.data.status === 'error' ? 'error' : 'success'"
                          },
                          "children": {
                            "computeType": "function",
                            "fnSource": "    const {url, error, name, status} = form.data\n\n    return url ?? `${name ?? 'File name'} - ${error ?? status ?? 'status'}`",
                            "value": ""
                          }
                        },
                        "css": {
                          "any": {
                            "string": "    &.error {\n        color: red;\n    }"
                          }
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "key": "Notifications header",
            "type": "MuiTypography",
            "props": {
              "variant": {
                "value": "h6"
              },
              "children": {
                "value": "Notifications",
                "editorType": "string"
              }
            }
          },
          {
            "key": "Notifications hint",
            "type": "MuiTypography",
            "props": {
              "children": {
                "value": "Use a permanent address where you can receive mail.",
                "editorType": "string"
              }
            }
          },
          {
            "key": "Email header",
            "type": "MuiTypography",
            "props": {
              "children": {
                "value": "By Email",
                "editorType": "string"
              },
              "sx": {
                "value": {
                  "fontWeight": "bold"
                }
              }
            }
          },
          {
            "key": "Checkbox container 1",
            "type": "MuiStack",
            "props": {
              "spacing": {
                "value": "10px"
              }
            },
            "children": [
              {
                "key": "Comments checkbox",
                "type": "MuiFormControlLabel",
                "props": {
                  "control": {
                    "value": "Checkbox"
                  },
                  "label": {
                    "value": "Comments"
                  },
                  "checked": {
                    "value": false
                  }
                }
              },
              {
                "key": "Comments label",
                "type": "MuiTypography",
                "props": {
                  "children": {
                    "value": "Get notified when someones posts a comment on a posting.",
                    "editorType": "string"
                  },
                  "sx": {
                    "value": {
                      "ml": "35px"
                    }
                  }
                }
              }
            ]
          },
          {
            "key": "Checkbox container 2",
            "type": "MuiStack",
            "props": {
              "spacing": {
                "value": "10px"
              }
            },
            "children": [
              {
                "key": "Candidates checkbox",
                "type": "MuiFormControlLabel",
                "props": {
                  "control": {
                    "value": "Checkbox"
                  },
                  "label": {
                    "value": "Candidates"
                  },
                  "checked": {
                    "value": false
                  }
                }
              },
              {
                "key": "Candidates label",
                "type": "MuiTypography",
                "props": {
                  "children": {
                    "value": "Get notified when a candidate applies for a job.",
                    "editorType": "string"
                  },
                  "sx": {
                    "value": {
                      "ml": "35px"
                    }
                  }
                }
              }
            ]
          },
          {
            "key": "Checkbox container 3",
            "type": "MuiStack",
            "props": {
              "spacing": {
                "value": "10px"
              }
            },
            "children": [
              {
                "key": "Offers checkbox",
                "type": "MuiFormControlLabel",
                "props": {
                  "control": {
                    "value": "Checkbox"
                  },
                  "label": {
                    "value": "Offers"
                  },
                  "checked": {
                    "value": false
                  }
                }
              },
              {
                "key": "Offers  label",
                "type": "MuiTypography",
                "props": {
                  "children": {
                    "value": "Get notified when a candidate accepts or rejects an offer.",
                    "editorType": "string"
                  },
                  "sx": {
                    "value": {
                      "ml": "35px"
                    }
                  }
                }
              }
            ]
          },
          {
            "key": "Push header",
            "type": "MuiTypography",
            "props": {
              "children": {
                "value": "Push Notifications",
                "editorType": "string"
              },
              "sx": {
                "value": {
                  "fontWeight": "bold"
                }
              }
            }
          },
          {
            "key": "Push hint",
            "type": "MuiTypography",
            "props": {
              "children": {
                "value": "These are delivered via SMS to your mobile phone.",
                "editorType": "string"
              }
            }
          },
          {
            "key": "Push select",
            "type": "MuiRadioGroup",
            "props": {
              "name": {
                "value": "Push notifications"
              }
            },
            "children": [
              {
                "key": "Push everything",
                "type": "MuiRadioItem",
                "props": {
                  "value": {
                    "value": "Everything"
                  },
                  "label": {
                    "value": "Everything"
                  }
                }
              },
              {
                "key": "Push same as email",
                "type": "MuiRadioItem",
                "props": {
                  "value": {
                    "value": "Same as email"
                  },
                  "label": {
                    "value": "Same as email"
                  }
                }
              },
              {
                "key": "Push none",
                "type": "MuiRadioItem",
                "props": {
                  "value": {
                    "value": "No push notifications"
                  },
                  "label": {
                    "value": "No push notifications"
                  }
                }
              }
            ]
          },
          {
            "key": "Save button",
            "type": "MuiButton",
            "props": {
              "variant": {
                "value": "contained"
              },
              "size": {
                "value": "small"
              },
              "children": {
                "value": "Save",
                "editorType": "string"
              }
            },
            "events": {
              "onClick": [
                {
                  "name": "validate",
                  "type": "common"
                },
                {
                  "name": "showValidationResult",
                  "type": "code"
                }
              ]
            }
          },
          {
            "key": "errorMessage",
            "type": "MuiTypography",
            "props": {
              "children": {
                "value": "Not all fields of the form are filled in correctly. Correct the values of the form fields and try again.",
                "editorType": "string"
              },
              "sx": {
                "value": {
                  "color": "red"
                }
              }
            },
            "renderWhen": {
              "value": false
            }
          },
          {
            "key": "successMessage",
            "type": "MuiTypography",
            "props": {
              "children": {
                "value": "The form has been sent, thank you!",
                "editorType": "string"
              },
              "sx": {
                "value": {
                  "color": "green"
                }
              }
            },
            "renderWhen": {
              "value": false
            }
          }
        ],
        "css": {
          "any": {
            "string": "    padding: 10px;\n    border: 1px solid lightgray;\n    border-radius: 6px;"
          }
        },
        "wrapperCss": {
          "any": {
            "object": {}
          }
        }
      }
    ]
  },
  "localization": {},
  "languages": [
    {
      "code": "en",
      "dialect": "US",
      "name": "English",
      "description": "American English",
      "bidi": "ltr"
    }
  ],
  "defaultLanguage": "en-US"
}
